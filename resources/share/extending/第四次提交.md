# [autowired-annotation @Autowired注解]

之前我们通过@Value注解可以将一些简单类型的值赋值给字段，但是遇到复杂类型的值应该如何处理呢？就要对@Autowire的注解i进行解析了。

### Autowired注解

在AutowiredAnnotationBeanPostProcessor类中postProcessPropertyValues方法中添加，处理完@Value注解之后处理@Autowired注解。生效的时机还是在实例化完毕之后，属性赋值之前！

1.依旧遍历判断每一个field属性是否添加了@Autowired注解 和 @Qualifier注解 ,前者只会通过type类型查找；后者必须和前者一块搭配使用，这样就可以通过name查找

2.判断是否添加了@Qualifier注解，并且name是否非空，如果符合的话，直接通过getBean(String name,Class<?> requiredType)方法获取到即可。

3.如果只有一个@Autowired注解的话，调用getBean(Class<?> requiredType)方法，这个方法从当前的BeanDefinition中进行查找，判断beanClass类型和requiredType类型相同的bean。

4.然后计算一共有多少个type类型相同的bean，如果超过1个的话，直接抛出异常！如果只有一个的话，调用getBean(String name,Class<?> requiredType)方法进行实例化即可！