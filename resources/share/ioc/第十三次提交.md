【factory-bean】


1. FactoryBean是一种特殊的bean，当向容器中获取该bean时，返回的不是该bean，而是该类的getObject()方法返回的bean。一般可以用来定义复杂的bean

2. 修改AbstractBeanFactory中getBean()的逻辑，总体的逻辑如下。

3.捋一下思路 （单例表中存储的是实现FactoryBean接口的类！而不是getObject()返回的类）

a.首先从单例表中获取bean（这个bean），如果可以获取到的话，不能像以前一样直接返回了，需要判断是否是特殊的bean。

b.如果是特殊的bean的话，还需要判断是否是单例bean,如果是单例bean的话，优先从factoryBeanObjectCache缓存集合中获取，如果没有的话，再调用getObject()方法获取到，然后存储到factoryBeanObjectCache中

c.然后如果是非单例的话，就不需要缓存集合了，直接getObject()获取bean。


d.如果从单例表中获取不到bean的话， 那就直接createBean()创建实例类，然后再次调用getObjectForBeanInstance()。现在就是来获取getObject()返回的类了。

