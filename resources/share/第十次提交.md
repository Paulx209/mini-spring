【bean初始化和销毁方法 init-and-destroy-method】
大致概括一下这章主要做了什么工作吧。

1.新增了InitializingBean、DisposableBean两个接口，提供了初始化和销毁的方法，afterPropertiesSet()、destroy()，可以通过实现接口重写方法来向生命周期中添加片段！

2.BeanDefinition类中新增属性“initMethodName 、  destroyMethodName”，在对XML配置文件解析的过程中(XmlBeanDefinitionReader类)对BeanDefinition进行属性填充！

3.afterPropertiesSet 方法 和 initMethodName 方法会在初始化的过程中执行。BeanPostProcessor前置处理器 -> afterProperties() -> initMethod() -> BeanPostProcessor后置处理器

4.总结一、其实afterPropertiesSet()方法 和 initMethod()方法 就是通过实现接口 和 xml配置的方法给自己加上标记（通过类型判断 和 BeanDefinition属性判断），然后在初始化的时候调用即可。


5.在DefaultSingletonBeanRegistry类中新增了disposableBeans属性（Map类型），存储了所有实现了DisposableBean接口的bean。在执行初始化完成之后，判断bean是否实现了DisposableBean接口，如果实现的话就添加到Map集合中。

6.销毁方法执行的时机：当虚拟机关闭的时候 或者是 ApplicationContext的close()方法被调用时， 会调用 DefaultSingletonBeanRegistry中的destroySingletons()方法，遍历disposableBeans属性中的所有bean，然后调用DisposableBeanAdapter类中的destroy()方法，然后会判断是否实现了DisposableBean接口，之后获取到自定义的销毁方法，然后通过反射调用。

7.总结二、destroy()方法 和 自定义的销毁方法 会在【bean初始化阶段】之后进行注册，判断是否实现了DisposableBean接口 或者 destroy-method方法是否被配置，如果是的话就会注册到Map中！然后在容器被销毁的时候就会触发执行，遍历集合中的每一个bean，然后反射执行销毁方法。
